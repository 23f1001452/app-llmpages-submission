<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Text Analyzer</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ENjdO4Dr2bkBIFxQpeoYz1FQK5KkN7B4e1Zp6a6p7U5p6bV6j5V5g5j5c5c5c5c5" crossorigin="anonymous">
    <style>
        /* Custom styling for the card */
        body {
            background-color: #f8f9fa;
        }
        .card {
            margin-top: 2rem;
        }
        textarea {
            resize: vertical;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title mb-4 text-center">Text Analyzer</h5>
                        <div class="mb-3">
                            <label for="text-input" class="form-label">Enter your text:</label>
                            <textarea class="form-control" id="text-input" rows="6" placeholder="Type or paste text here..."></textarea>
                        </div>
                        <div class="d-grid gap-2 mb-4">
                            <button class="btn btn-primary" id="analyze-btn">Analyze</button>
                        </div>
                        <hr>
                        <h6>Statistics</h6>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                Words
                                <span id="word-count" class="badge bg-secondary rounded-pill">0</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                Characters
                                <span id="char-count" class="badge bg-secondary rounded-pill">0</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                Sentences
                                <span id="sentence-count" class="badge bg-secondary rounded-pill">0</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <footer class="mt-4 text-center text-muted">
                    Â© <span id="year"></span> Text Analyzer
                </footer>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-q2A8Vf1yZc6XK3+6G5tRZ5eJ+6b5Q5f5e5f5f5f5f5f5f5f5f5f5f5f5f5f5f5f5" crossorigin="anonymous"></script>

    <script>
        // Set current year in footer
        document.getElementById('year').textContent = new Date().getFullYear();

        // Helper function to count words
        function countWords(text) {
            // Split on whitespace, filter out empty strings
            const words = text.trim().split(/\s+/).filter(Boolean);
            return words.length;
        }

        // Helper function to count characters (including spaces)
        function countChars(text) {
            return text.length;
        }

        // Helper function to count sentences
        function countSentences(text) {
            // Split on . ! ? followed by possible whitespace
            const sentences = text.split(/[.!?]+/).filter(sentence => sentence.trim().length > 0);
            return sentences.length;
        }

        // Main analysis function
        function analyzeText() {
            const textarea = document.getElementById('text-input');
            const text = textarea.value || '';

            // Compute counts
            const words = countWords(text);
            const chars = countChars(text);
            const sentences = countSentences(text);

            // Update UI
            document.getElementById('word-count').textContent = words;
            document.getElementById('char-count').textContent = chars;
            document.getElementById('sentence-count').textContent = sentences;
        }

        // Attach event listener to button
        document.getElementById('analyze-btn').addEventListener('click', function () {
            try {
                analyzeText();
            } catch (err) {
                console.error('Error during analysis:', err);
                alert('An unexpected error occurred while analyzing the text.');
            }
        });
    </script>
</body>
</html>